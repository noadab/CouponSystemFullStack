{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\noada\\\\eclipse-workspace\\\\CouponSystemSpring\\\\src\\\\main\\\\react\\\\src\\\\pages\\\\Welcome.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useState } from 'react';\nimport CouponList from '../components/Coupon/CouponList';\nimport fetchWrapper from '../helper/fetchWrapper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Welcome = () => {\n  _s();\n\n  const [coupons, setCoupons] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  let content;\n  const fetchCouponsHandler = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const data = await fetchWrapper.get(\"/api/all\", () => {\n        console.log(error);\n      });\n      console.log(data);\n      console.log(\"Response Okay!\");\n      const transformedCoupons = data.map(couponData => {\n        return {\n          id: couponData.id,\n          title: couponData.title,\n          category: couponData.category,\n          description: couponData.description,\n          startDate: couponData.startDate,\n          endDate: couponData.endDate,\n          amount: couponData.amount,\n          price: couponData.price,\n          image: couponData.image\n        };\n      });\n      setCoupons(transformedCoupons);\n    } catch (error) {\n      console.log(error.message);\n      setError(error.message);\n    }\n  }, []);\n\n  if (error) {\n    content = /*#__PURE__*/_jsxDEV(\"section\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }, this);\n  }\n\n  useEffect(() => {\n    fetchCouponsHandler();\n  }, []);\n\n  if (coupons.length > 0) {\n    content = /*#__PURE__*/_jsxDEV(CouponList, {\n      coupons: coupons,\n      view: \"home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: content\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Welcome, \"w1JzMCFmdkydioOcwsV1sHujy2s=\");\n\n_c = Welcome;\nexport default Welcome;\n\nvar _c;\n\n$RefreshReg$(_c, \"Welcome\");","map":{"version":3,"sources":["C:/Users/noada/eclipse-workspace/CouponSystemSpring/src/main/react/src/pages/Welcome.js"],"names":["React","useCallback","useEffect","useState","CouponList","fetchWrapper","Welcome","coupons","setCoupons","isLoading","setIsLoading","error","setError","content","fetchCouponsHandler","data","get","console","log","transformedCoupons","map","couponData","id","title","category","description","startDate","endDate","amount","price","image","message","length"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,SAA7B,EAAwCC,QAAxC,QAAwD,OAAxD;AACA,OAAOC,UAAP,MAAuB,iCAAvB;AACA,OAAOC,YAAP,MAAyB,wBAAzB;;;AAEA,MAAMC,OAAO,GAAG,MAAM;AAAA;;AAEpB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBL,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACM,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,IAAD,CAAlC;AAEA,MAAIU,OAAJ;AAEA,QAAMC,mBAAmB,GAAGb,WAAW,CAAC,YAAY;AAClDS,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAE,IAAAA,QAAQ,CAAC,IAAD,CAAR;;AACA,QAAI;AACF,YAAMG,IAAI,GAAG,MAAMV,YAAY,CAACW,GAAb,CAAiB,UAAjB,EAA6B,MAAM;AACpDC,QAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AACD,OAFkB,CAAnB;AAIAM,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AAEA,YAAMC,kBAAkB,GAAGJ,IAAI,CAACK,GAAL,CAAUC,UAAD,IAAgB;AAClD,eAAO;AACLC,UAAAA,EAAE,EAAED,UAAU,CAACC,EADV;AAELC,UAAAA,KAAK,EAAEF,UAAU,CAACE,KAFb;AAGLC,UAAAA,QAAQ,EAAEH,UAAU,CAACG,QAHhB;AAILC,UAAAA,WAAW,EAAEJ,UAAU,CAACI,WAJnB;AAKLC,UAAAA,SAAS,EAAEL,UAAU,CAACK,SALjB;AAMLC,UAAAA,OAAO,EAAEN,UAAU,CAACM,OANf;AAOLC,UAAAA,MAAM,EAAEP,UAAU,CAACO,MAPd;AAQLC,UAAAA,KAAK,EAAER,UAAU,CAACQ,KARb;AASLC,UAAAA,KAAK,EAAET,UAAU,CAACS;AATb,SAAP;AAWD,OAZ0B,CAA3B;AAaAtB,MAAAA,UAAU,CAACW,kBAAD,CAAV;AACD,KAtBD,CAsBE,OAAOR,KAAP,EAAc;AACdM,MAAAA,OAAO,CAACC,GAAR,CAAYP,KAAK,CAACoB,OAAlB;AACAnB,MAAAA,QAAQ,CAACD,KAAK,CAACoB,OAAP,CAAR;AACD;AAEF,GA9BsC,EA8BpC,EA9BoC,CAAvC;;AAgCA,MAAIpB,KAAJ,EAAW;AACTE,IAAAA,OAAO,gBAAG;AAAA,gBAAUF;AAAV;AAAA;AAAA;AAAA;AAAA,YAAV;AACD;;AACDT,EAAAA,SAAS,CAAC,MAAM;AACdY,IAAAA,mBAAmB;AACpB,GAFQ,EAEN,EAFM,CAAT;;AAKA,MAAIP,OAAO,CAACyB,MAAR,GAAiB,CAArB,EAAwB;AACtBnB,IAAAA,OAAO,gBAAG,QAAC,UAAD;AAAY,MAAA,OAAO,EAAEN,OAArB;AAA8B,MAAA,IAAI,EAAE;AAApC;AAAA;AAAA;AAAA;AAAA,YAAV;AACD;;AAED,sBACE,QAAC,KAAD,CAAO,QAAP;AAAA,cACGM;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAQD,CA5DD;;GAAMP,O;;KAAAA,O;AA8DN,eAAeA,OAAf","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\r\nimport CouponList from '../components/Coupon/CouponList';\r\nimport fetchWrapper from '../helper/fetchWrapper'\r\n\r\nconst Welcome = () => {\r\n\r\n  const [coupons, setCoupons] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  let content;\r\n\r\n  const fetchCouponsHandler = useCallback(async () => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      const data = await fetchWrapper.get(\"/api/all\", () => {\r\n        console.log(error)\r\n      });\r\n\r\n      console.log(data);\r\n      console.log(\"Response Okay!\");\r\n\r\n      const transformedCoupons = data.map((couponData) => {\r\n        return {\r\n          id: couponData.id,\r\n          title: couponData.title,\r\n          category: couponData.category,\r\n          description: couponData.description,\r\n          startDate: couponData.startDate,\r\n          endDate: couponData.endDate,\r\n          amount: couponData.amount,\r\n          price: couponData.price,\r\n          image: couponData.image\r\n        };\r\n      });\r\n      setCoupons(transformedCoupons)\r\n    } catch (error) {\r\n      console.log(error.message);\r\n      setError(error.message);\r\n    }\r\n\r\n  }, []);\r\n\r\n  if (error) {\r\n    content = <section>{error}</section>;\r\n  }\r\n  useEffect(() => {\r\n    fetchCouponsHandler();\r\n  }, []);\r\n\r\n\r\n  if (coupons.length > 0) {\r\n    content = <CouponList coupons={coupons} view={\"home\"} />;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {content}\r\n    </React.Fragment>\r\n\r\n\r\n\r\n  );\r\n};\r\n\r\nexport default Welcome;\r\n"]},"metadata":{},"sourceType":"module"}