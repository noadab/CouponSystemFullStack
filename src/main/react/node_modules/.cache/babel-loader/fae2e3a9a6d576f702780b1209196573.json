{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\noada\\\\eclipse-workspace\\\\CouponSystemSpring\\\\src\\\\main\\\\react\\\\src\\\\components\\\\Client\\\\Client.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useSelector } from 'react-redux';\nimport fetchWrapper from '../../helper/fetchWrapper';\nimport classes from \"./Client.module.css\";\nimport CardClient from \"../../UI/CardClient\";\nimport ClientForm from \"./ClientForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Client = props => {\n  _s();\n\n  const userType = useSelector(state => state.auth.userType);\n  const token = useSelector(state => state.auth.token);\n  const [client, setClient] = useState();\n  const [error, setError] = useState(null);\n  const [isAvailClient, setAvailClient] = useState(true);\n  const [edit, setEdit] = useState(false);\n\n  let content = /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"cant show user details\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 17\n  }, this);\n\n  if (userType === \"admin\") {\n    setCli; // content = <CardClient client={props} />\n  } else {// content = <CardClient client={props.client} />\n  }\n\n  content = /*#__PURE__*/_jsxDEV(CardClient, {\n    client: client\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 16\n  }, this);\n  const deleteClient = useCallback(async event => {\n    event.preventDefault();\n    setError(null);\n    let method = \"DELETE\";\n    let path = \"admin/delete/\" + props.clientType + \"/\" + props.id;\n\n    try {\n      const data = await fetchWrapper.delete(method, path, token, () => {});\n      setAvailClient(false);\n    } catch (error) {\n      console.log(error.message);\n      setError(error.message);\n    }\n  }, []);\n\n  const deleteChangeHandler = event => {\n    if (window.confirm(\"are you sure you want to delete this client?\")) {\n      deleteClient(event);\n    }\n  };\n\n  const updateChangeHandler = () => {\n    console.log(\"aaaa\");\n    setEdit(true);\n  };\n\n  const onCancel = () => {\n    setEdit(false);\n  };\n\n  const onSave = props => {\n    setEdit(false);\n  };\n\n  if (edit) {\n    content = /*#__PURE__*/_jsxDEV(ClientForm, {\n      defaultData: props,\n      requestClient: props.clientType,\n      onCancel: onCancel,\n      onSave: onSave\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }, this);\n  }\n\n  if (error) {\n    /*#__PURE__*/\n    _jsxDEV(\"section\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: isAvailClient && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.client,\n      children: [content, userType === \"admin\" && !edit && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: updateChangeHandler,\n        children: \"update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 43\n      }, this), userType === \"admin\" && !edit && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: deleteChangeHandler,\n        children: \"delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 43\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Client, \"zca52OK35IR08VKa2LpGDHoLD38=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c = Client;\nexport default Client;\n\nvar _c;\n\n$RefreshReg$(_c, \"Client\");","map":{"version":3,"sources":["C:/Users/noada/eclipse-workspace/CouponSystemSpring/src/main/react/src/components/Client/Client.js"],"names":["React","useCallback","useEffect","useState","useSelector","fetchWrapper","classes","CardClient","ClientForm","Client","props","userType","state","auth","token","client","setClient","error","setError","isAvailClient","setAvailClient","edit","setEdit","content","setCli","deleteClient","event","preventDefault","method","path","clientType","id","data","delete","console","log","message","deleteChangeHandler","window","confirm","updateChangeHandler","onCancel","onSave"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useSelector } from 'react-redux';\r\nimport fetchWrapper from '../../helper/fetchWrapper'\r\n\r\nimport classes from \"./Client.module.css\"\r\nimport CardClient from \"../../UI/CardClient\"\r\nimport ClientForm from \"./ClientForm\";\r\n\r\nconst Client = (props) => {\r\n  \r\n  const userType = useSelector(state => state.auth.userType);\r\n  const token = useSelector((state) => state.auth.token);\r\n\r\n  const [client,setClient]= useState();\r\n  const [error, setError] = useState(null);\r\n  const [isAvailClient, setAvailClient] = useState(true);\r\n  const [edit, setEdit] = useState(false);\r\n\r\n  let content = <div>cant show user details</div>\r\n\r\n  \r\n    if (userType === \"admin\") {\r\n      setCli\r\n      // content = <CardClient client={props} />\r\n    }\r\n    else {\r\n      // content = <CardClient client={props.client} />\r\n    }\r\n     content = <CardClient client={client} />\r\n  \r\n\r\n  const deleteClient = useCallback(async (event) => {\r\n    event.preventDefault();\r\n    setError(null);\r\n    let method = \"DELETE\";\r\n    let path = \"admin/delete/\" + props.clientType + \"/\" + props.id;\r\n    try {\r\n        const data = await fetchWrapper.delete(method, path, token, () => {})\r\n        setAvailClient(false);\r\n     \r\n    }catch (error) {\r\n      console.log(error.message);\r\n      setError(error.message);\r\n  }\r\n  }, []);\r\n\r\n  const deleteChangeHandler = (event) => {\r\n    if (window.confirm(\"are you sure you want to delete this client?\")) {\r\n      deleteClient(event);\r\n    }\r\n  }\r\n\r\n  const updateChangeHandler = () => {\r\n    console.log(\"aaaa\")\r\n    setEdit(true);\r\n  }\r\n\r\n  const onCancel = () => {\r\n    setEdit(false);\r\n\r\n  }\r\n  const onSave = (props) => {\r\n    setEdit(false);\r\n  }\r\n\r\n  if (edit) {\r\n    content = <ClientForm defaultData={props} requestClient={props.clientType} onCancel={onCancel} onSave={onSave} />\r\n  \r\n  }\r\n  \r\n  if (error){\r\n    <section>\r\n      {error}\r\n    </section>\r\n  }\r\n  \r\n  return (\r\n    <React.Fragment>\r\n      {isAvailClient && \r\n      <div className={classes.client}>\r\n        {content}\r\n        {userType === \"admin\" && !edit && <button onClick={updateChangeHandler}>update</button>}\r\n        {userType === \"admin\" && !edit && <button onClick={deleteChangeHandler}>delete</button>}\r\n      </div>}\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default Client; "]},"metadata":{},"sourceType":"module"}