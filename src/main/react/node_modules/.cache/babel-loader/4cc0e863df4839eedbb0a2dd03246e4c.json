{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bar86\\\\Documents\\\\GitHub\\\\CouponSystemFinal\\\\CouponSystemSpring\\\\src\\\\main\\\\react\\\\src\\\\pages\\\\Welcome.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport reactRouterDom from 'react-router-dom';\nimport { Route } from 'react-router-dom';\nimport ClientForm from '../components/Client/ClientForm';\nimport CouponList from '../components/Coupon/CouponList';\nimport fetchWrapper from '../helper/fetchWrapper';\nimport { authActions } from \"../store/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Welcome = () => {\n  _s();\n\n  const isAuth = useSelector(state => state.auth.isAuth);\n  const token = useSelector(state => state.auth.token);\n  const dispatch = useDispatch();\n  const [coupons, setCoupons] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const fetchCouponsHandler = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n    const data = await fetchWrapper.get(\"/api/all/\", () => {\n      console.log(error);\n      setError(error.message);\n    });\n    console.log(data);\n    console.log(\"Response Okay!\");\n    const transformedCoupons = data.map(couponData => {\n      return {\n        id: couponData.id,\n        title: couponData.title,\n        category: couponData.category,\n        description: couponData.description,\n        startDate: couponData.startDate,\n        endDate: couponData.endDate,\n        amount: couponData.amount,\n        price: couponData.price,\n        image: couponData.image\n      };\n    });\n    setCoupons(transformedCoupons);\n  }, []);\n  useEffect(() => {\n    fetchCouponsHandler();\n  }, []);\n  let content;\n\n  if (coupons.length > 0) {\n    content = /*#__PURE__*/_jsxDEV(CouponList, {\n      coupons: coupons,\n      view: \"home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: content\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Welcome, \"3TyRuazxzRKK2dlAPM+XuxVzl0Y=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = Welcome;\nexport default Welcome;\n\nvar _c;\n\n$RefreshReg$(_c, \"Welcome\");","map":{"version":3,"sources":["C:/Users/bar86/Documents/GitHub/CouponSystemFinal/CouponSystemSpring/src/main/react/src/pages/Welcome.js"],"names":["React","useCallback","useEffect","useState","useDispatch","useSelector","reactRouterDom","Route","ClientForm","CouponList","fetchWrapper","authActions","Welcome","isAuth","state","auth","token","dispatch","coupons","setCoupons","isLoading","setIsLoading","error","setError","fetchCouponsHandler","data","get","console","log","message","transformedCoupons","map","couponData","id","title","category","description","startDate","endDate","amount","price","image","content","length"],"mappings":";;;AAAA,OAAOA,KAAP,IAAiBC,WAAjB,EAA8BC,SAA9B,EAAyCC,QAAzC,QAAyD,OAAzD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,OAAOC,UAAP,MAAuB,iCAAvB;AACA,OAAOC,UAAP,MAAuB,iCAAvB;AACA,OAAOC,YAAP,MAAyB,wBAAzB;AACA,SAASC,WAAT,QAA4B,eAA5B;;;AAEA,MAAMC,OAAO,GAAG,MAAM;AAAA;;AACpB,QAAMC,MAAM,GAAGR,WAAW,CAACS,KAAK,IAAIA,KAAK,CAACC,IAAN,CAAWF,MAArB,CAA1B;AACA,QAAMG,KAAK,GAAGX,WAAW,CAACS,KAAK,IAAIA,KAAK,CAACC,IAAN,CAAWC,KAArB,CAAzB;AAEA,QAAMC,QAAQ,GAAGb,WAAW,EAA5B;AAEA,QAAM,CAACc,OAAD,EAAUC,UAAV,IAAwBhB,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACiB,SAAD,EAAYC,YAAZ,IAA4BlB,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACmB,KAAD,EAAQC,QAAR,IAAoBpB,QAAQ,CAAC,IAAD,CAAlC;AAEA,QAAMqB,mBAAmB,GAAGvB,WAAW,CAAC,YAAY;AAClDoB,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAE,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACA,UAAME,IAAI,GAAG,MAAMf,YAAY,CAACgB,GAAb,CAAiB,WAAjB,EAA8B,MAAM;AACrDC,MAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AACAC,MAAAA,QAAQ,CAACD,KAAK,CAACO,OAAP,CAAR;AACH,KAHoB,CAAnB;AAIFF,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,UAAME,kBAAkB,GAAGL,IAAI,CAACM,GAAL,CAAUC,UAAD,IAAgB;AAClD,aAAO;AACLC,QAAAA,EAAE,EAAED,UAAU,CAACC,EADV;AAELC,QAAAA,KAAK,EAAEF,UAAU,CAACE,KAFb;AAGLC,QAAAA,QAAQ,EAAEH,UAAU,CAACG,QAHhB;AAILC,QAAAA,WAAW,EAAEJ,UAAU,CAACI,WAJnB;AAKLC,QAAAA,SAAS,EAAEL,UAAU,CAACK,SALjB;AAMLC,QAAAA,OAAO,EAAEN,UAAU,CAACM,OANf;AAOLC,QAAAA,MAAM,EAAEP,UAAU,CAACO,MAPd;AAQLC,QAAAA,KAAK,EAAER,UAAU,CAACQ,KARb;AASLC,QAAAA,KAAK,EAAET,UAAU,CAACS;AATb,OAAP;AAWD,KAZ0B,CAA3B;AAaAtB,IAAAA,UAAU,CAACW,kBAAD,CAAV;AACC,GAvBsC,EAuBpC,EAvBoC,CAAvC;AAyBA5B,EAAAA,SAAS,CAAC,MAAM;AACdsB,IAAAA,mBAAmB;AACpB,GAFQ,EAEN,EAFM,CAAT;AAIA,MAAIkB,OAAJ;;AACA,MAAIxB,OAAO,CAACyB,MAAR,GAAiB,CAArB,EAAwB;AACtBD,IAAAA,OAAO,gBAAG,QAAC,UAAD;AAAY,MAAA,OAAO,EAAExB,OAArB;AAA8B,MAAA,IAAI,EAAE;AAApC;AAAA;AAAA;AAAA;AAAA,YAAV;AACD;;AAED,sBACE,QAAC,KAAD,CAAO,QAAP;AAAA,cACGwB;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAQD,CApDD;;GAAM9B,O;UACWP,W,EACDA,W,EAEGD,W;;;KAJbQ,O;AAsDN,eAAeA,OAAf","sourcesContent":["import React , { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport reactRouterDom from 'react-router-dom';\nimport { Route } from 'react-router-dom';\nimport ClientForm from '../components/Client/ClientForm';\nimport CouponList from '../components/Coupon/CouponList';\nimport fetchWrapper from '../helper/fetchWrapper'\nimport { authActions } from \"../store/auth\";\n\nconst Welcome = () => {\n  const isAuth = useSelector(state => state.auth.isAuth);\n  const token = useSelector(state => state.auth.token);\n  \n  const dispatch = useDispatch();\n\n  const [coupons, setCoupons] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const fetchCouponsHandler = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n    const data = await fetchWrapper.get(\"/api/all/\", () => {\n      console.log(error)\n      setError(error.message);\n  });\n  console.log(data);\n  console.log(\"Response Okay!\");\n  const transformedCoupons = data.map((couponData) => {\n    return {\n      id: couponData.id,\n      title: couponData.title,\n      category: couponData.category,\n      description: couponData.description,\n      startDate: couponData.startDate,\n      endDate: couponData.endDate,\n      amount: couponData.amount,\n      price: couponData.price,\n      image: couponData.image\n    };\n  });\n  setCoupons(transformedCoupons)\n  }, []);\n\n  useEffect(() => {\n    fetchCouponsHandler();\n  }, []);\n\n  let content;\n  if (coupons.length > 0) {\n    content = <CouponList coupons={coupons} view={\"home\"} />;\n  }\n\n  return (\n    <React.Fragment>\n      {content}\n    </React.Fragment>\n      \n      \n    \n  );\n};\n\nexport default Welcome;\n"]},"metadata":{},"sourceType":"module"}